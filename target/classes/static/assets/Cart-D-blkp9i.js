import{_ as h,aN as b,aO as I,o as y,c as C,b as t,w as l,a as n,R as m,h as P,f as i,aL as V,aM as v,e as k}from"./index-Dop1HJoy.js";import{E as w}from"./dialog-DltSdSvp.js";import{E as B,a as N}from"./table-column-DWFHzxec.js";import"./scrollbar-RANCb-aM.js";import{E}from"./input-number-21C7NPPS.js";import"./_Uint8Array-Cg5NkbKV.js";import"./isEqual-CvHxHP5Y.js";import"./_initCloneObject-DycvtMbU.js";const q={data(){return{Postcard:b,Postcard2:I,cartList:[],getGoodsUrl:"",esAddress:"未选择",addressList:[],dialogVisible:!1}},computed:{totalPrice(){return this.cartList.reduce((e,o)=>e+o.total,0)}},methods:{handleClose(e){this.$confirm("确认关闭？").then(o=>{e()}).catch(o=>{})},getAllGoods(){this.cartList=[{productId:1,productName:"Test Goods",productImageBig:this.Postcard,salePrice:20.19,quantity:10,total:201.9,seleced:!1},{productId:2,productName:"Test Goods 2",productImageBig:this.Postcard2,salePrice:11.19,quantity:20,total:223.8,seleced:!1},{productId:3,productName:"Test Goods 3",productImageBig:this.Postcard,salePrice:10.4,quantity:15,total:156,seleced:!1},{productId:4,productName:"Test Goods 4",productImageBig:this.Postcard,salePrice:10.3,quantity:16,total:164.8,seleced:!1},{productId:5,productName:"Test Goods 4",productImageBig:this.Postcard,salePrice:10.1,quantity:20,total:202,seleced:!1}]},handleQuantityChange(e){e.total=e.salePrice*e.quantity},removeFromCart(e){this.cartList=this.cartList.filter(o=>o.productId!==e)},checkout(){alert("正在结算...")}},mounted(){this.getAllGoods()}},L=e=>(V("data-v-22eb19cb"),e=e(),v(),e),G={class:"cart-container"},T={class:"cart-footer"},x=L(()=>n("div",null,"当前地址：",-1));function A(e,o,S,U,s,c){const _=k,d=N,f=E,r=P,p=B,g=w;return y(),C("div",G,[t(p,{data:s.cartList,style:{width:"100%"}},{default:l(()=>[t(d,{prop:"productImageBig",label:"",width:"180"},{default:l(a=>[t(_,{src:a.row.productImageBig},null,8,["src"])]),_:1}),t(d,{prop:"productName",label:"商品名称",width:"180"}),t(d,{prop:"salePrice",label:"价格",width:"180"}),t(d,{prop:"quantity",label:"数量",width:"180"},{default:l(({row:a})=>[t(f,{modelValue:a.quantity,"onUpdate:modelValue":u=>a.quantity=u,min:1,onChange:u=>c.handleQuantityChange(a)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),t(d,{prop:"total",label:"总价",width:"180"}),t(d,{label:"操作",width:"180"},{default:l(({row:a})=>[t(r,{onClick:u=>c.removeFromCart(a.productId)},{default:l(()=>[i("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),n("div",T,[n("div",null,"总价："+m(c.totalPrice),1),x,n("div",null,m(s.esAddress),1),t(r,{onClick:o[0]||(o[0]=a=>s.dialogVisible=!0)},{default:l(()=>[i("选择地址")]),_:1}),t(r,{type:"primary",onClick:c.checkout},{default:l(()=>[i("结算")]),_:1},8,["onClick"]),t(g,{modelValue:s.dialogVisible,"onUpdate:modelValue":o[3]||(o[3]=a=>s.dialogVisible=a),style:{width:"100%"}},{default:l(()=>[t(p,{data:s.addressList},{default:l(()=>[t(d,{prop:"address",label:"地址",width:"180"})]),_:1},8,["data"]),t(r,{onClick:o[1]||(o[1]=a=>s.dialogVisible=!1)},{default:l(()=>[i("取 消")]),_:1}),t(r,{type:"primary",onClick:o[2]||(o[2]=a=>s.dialogVisible=!1)},{default:l(()=>[i("确 定")]),_:1})]),_:1},8,["modelValue"])])])}const H=h(q,[["render",A],["__scopeId","data-v-22eb19cb"]]);export{H as default};
