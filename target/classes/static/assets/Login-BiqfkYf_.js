import{_ as F,E as i,u as c,o as h,c as y,a as m,b as t,w as s,d as T,e as v,f as _,g as E,h as x}from"./index-Dop1HJoy.js";import{E as k,a as w}from"./form-item-N380rmsA.js";import{E as N,a as C}from"./tab-pane-CWRaXBBn.js";import{L as V}from"./LoginPage-CBaQPguA.js";import"./castArray-huIM1Cdb.js";import"./_baseClone-DbsjTWAG.js";import"./_Uint8Array-Cg5NkbKV.js";import"./_initCloneObject-DycvtMbU.js";import"./strings-PKkVAa1j.js";const S={data(){return{ElMessage:i,LoginPage:V,dataForm:{userName:"",password:"",userType:"buyer"},dataRule:{userName:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]},loginUrl:""}},methods:{userLogin:c,dataFormSubmit(){console.log(this.dataForm.userType),this.$refs.dataForm.validate(r=>{r&&c(this.dataForm).then(e=>{console.log(e),e.status==="200"?(localStorage.setItem.loginUserName=this.dataForm.userName,localStorage.setItem.loginUserType=this.dataForm.userType,i.success("登录成功"),this.dataForm.userType=="buyer"?this.$router.push({path:"/"}):this.$router.push({path:"/Seller/Goodslist"})):e.statusText?i.error(e.statusText):i.error("未知错误, Status: "+e.status)})})},registerClick(){this.$router.replace({path:"/register"})},userTabClickHandler(r,e){this.dataForm.userType=r.index==0?"buyer":"seller"}}},I={class:"login"},L={class:"login-image"},U={class:"login-box"},B={class:"mid"};function P(r,e,q,H,o,l){const g=v,u=C,f=N,d=E,n=w,p=x,b=k;return h(),y("div",I,[m("div",L,[t(g,{src:o.LoginPage,style:{"max-width":"700px"}},null,8,["src"])]),m("div",U,[t(f,{onTabClick:l.userTabClickHandler},{default:s(()=>[t(u,{label:"我是买家"}),t(u,{label:"我是卖家"})]),_:1},8,["onTabClick"]),m("div",B,[t(b,{model:o.dataForm,rules:o.dataRule,ref:"dataForm",onKeyup:e[4]||(e[4]=T(a=>l.dataFormSubmit(),["enter","native"])),"status-icon":""},{default:s(()=>[t(n,{prop:"userName"},{default:s(()=>[t(d,{class:"info",modelValue:o.dataForm.userName,"onUpdate:modelValue":e[0]||(e[0]=a=>o.dataForm.userName=a),placeholder:"帐号"},null,8,["modelValue"])]),_:1}),t(n,{prop:"password"},{default:s(()=>[t(d,{class:"info",modelValue:o.dataForm.password,"onUpdate:modelValue":e[1]||(e[1]=a=>o.dataForm.password=a),type:"password",Y:"",placeholder:"密码"},null,8,["modelValue"])]),_:1}),t(n,null,{default:s(()=>[t(p,{type:"primary",value:"login",onClick:e[2]||(e[2]=a=>l.dataFormSubmit())},{default:s(()=>[_("登录")]),_:1}),t(p,{type:"info",value:"register",onClick:e[3]||(e[3]=a=>l.registerClick())},{default:s(()=>[_("前往注册")]),_:1})]),_:1})]),_:1},8,["model","rules"])])])])}const J=F(S,[["render",P],["__scopeId","data-v-82bea382"]]);export{J as default};
