import{_ as F,E as i,i as f,o as E,c as v,a as u,b as o,w as t,d as V,e as h,f as _,g as x,h as y}from"./index-Dop1HJoy.js";import{E as T,a as P}from"./form-item-N380rmsA.js";import{E as C,a as N}from"./tab-pane-CWRaXBBn.js";import{L as k}from"./LoginPage-CBaQPguA.js";import"./castArray-huIM1Cdb.js";import"./_baseClone-DbsjTWAG.js";import"./_Uint8Array-Cg5NkbKV.js";import"./_initCloneObject-DycvtMbU.js";import"./strings-PKkVAa1j.js";const L={data(){return{LoginPage:k,ElMessage:i,dataForm:{userType:"buyer",userName:"",password:"",confirmedPassword:""},dataRule:{userName:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}],confirmedPassword:[{validator:this.confirmedPasswordValiadator,trigger:"blur"}]},registerUrl:""}},methods:{userRegister:f,dataFormSubmit(){this.$refs.dataForm.validate(a=>{a&&f(this.dataForm).then(e=>{console.log(e),e.status==="200"?(i.success(e.statusText),this.$router.push({path:"/login"})):e.statusText?i.error(e.statusText):i.error("未知错误, Status: "+e.status)}).catch(e=>{e.response?(console.error("Error status",e.response.status),console.error("Error data",e.response.data)):e.request?console.error("No response received",e.request):console.error("Error",e.message)})})},LoginClick(){this.$router.replace({path:"/login"})},userTabClickHandler(a,e){this.dataForm.userType=a.index==0?"buyer":"seller"},confirmedPasswordValiadator(a,e,l){e===""?l(new Error("请再次输入密码")):e!==this.dataForm.password?l(new Error("两次输入的密码不同")):l()}}},q={class:"login"},B={class:"login-image"},I={class:"login-box"},R={class:"mid"};function S(a,e,l,U,s,n){const g=h,p=N,b=C,m=x,d=P,c=y,w=T;return E(),v("div",q,[u("div",B,[o(g,{src:s.LoginPage,style:{"max-width":"700px"}},null,8,["src"])]),u("div",I,[o(b,{onTabClick:n.userTabClickHandler},{default:t(()=>[o(p,{label:"我是买家"}),o(p,{label:"我是卖家"})]),_:1},8,["onTabClick"]),u("div",R,[o(w,{model:s.dataForm,rules:s.dataRule,ref:"dataForm",onKeyup:e[5]||(e[5]=V(r=>n.dataFormSubmit(),["enter","native"])),"status-icon":""},{default:t(()=>[o(d,{prop:"userName"},{default:t(()=>[o(m,{class:"info",modelValue:s.dataForm.userName,"onUpdate:modelValue":e[0]||(e[0]=r=>s.dataForm.userName=r),placeholder:"帐号"},null,8,["modelValue"])]),_:1}),o(d,{prop:"password"},{default:t(()=>[o(m,{class:"info",modelValue:s.dataForm.password,"onUpdate:modelValue":e[1]||(e[1]=r=>s.dataForm.password=r),type:"password",Y:"",placeholder:"密码"},null,8,["modelValue"])]),_:1}),o(d,{prop:"confirmedPassword"},{default:t(()=>[o(m,{class:"info",modelValue:s.dataForm.confirmedPassword,"onUpdate:modelValue":e[2]||(e[2]=r=>s.dataForm.confirmedPassword=r),type:"password",Y:"",placeholder:"确认密码"},null,8,["modelValue"])]),_:1}),o(d,null,{default:t(()=>[o(c,{type:"primary",value:"login",onClick:e[3]||(e[3]=r=>n.dataFormSubmit())},{default:t(()=>[_("注册")]),_:1}),o(c,{type:"info",value:"register",onClick:e[4]||(e[4]=r=>n.LoginClick())},{default:t(()=>[_("前往登录")]),_:1})]),_:1})]),_:1},8,["model","rules"])])])])}const J=F(L,[["render",S],["__scopeId","data-v-4dbabf50"]]);export{J as default};
