import{S as re,k as se}from"./_Uint8Array-Cg5NkbKV.js";import{b as q}from"./isEqual-CvHxHP5Y.js";import{bb as le,bG as X,bH as J,H as ne,bI as oe,bJ as ie,ba as ue,bh as ce,j as x,B as D,l as O,D as Q,n as V,aV as fe,S as m,p as R,N as ve,bC as M,bK as W,o as L,t as N,w as Z,P as me,a as k,q as H,s as g,A as B,Q as de,T as pe,a6 as he,c as j,b as K,av as be,ai as ye,ap as ge,a8 as A,bL as G,I as U,V as Se,O as F,as as we,L as ze,U as _e,aY as Ee,r as Pe,ay as Re,z as Ce,F as Ae,C as Le}from"./index-Dop1HJoy.js";var He=1,Oe=2;function Te(e,t,r,s){var o=r.length,c=o;if(e==null)return!c;for(e=Object(e);o--;){var i=r[o];if(i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++o<c;){i=r[o];var d=i[0],n=e[d],p=i[1];if(i[2]){if(n===void 0&&!(d in e))return!1}else{var b=new re,l;if(!(l===void 0?q(p,n,He|Oe,s,b):l))return!1}}return!0}function ee(e){return e===e&&!le(e)}function Me(e){for(var t=se(e),r=t.length;r--;){var s=t[r],o=e[s];t[r]=[s,o,ee(o)]}return t}function te(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function Ne(e){var t=Me(e);return t.length==1&&t[0][2]?te(t[0][0],t[0][1]):function(r){return r===e||Te(r,e,t)}}var ke=1,Be=2;function xe(e,t){return X(e)&&ee(t)?te(J(e),t):function(r){var s=ne(r,e);return s===void 0&&s===t?oe(r,e):q(t,s,ke|Be)}}function De(e){return function(t){return t==null?void 0:t[e]}}function $e(e){return function(t){return ie(t,e)}}function Ie(e){return X(e)?De(J(e)):$e(e)}function st(e){return typeof e=="function"?e:e==null?ue:typeof e=="object"?ce(e)?xe(e[0],e[1]):Ne(e):Ie(e)}const P=4,We={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Ke=({move:e,size:t,bar:r})=>({[r.size]:t,transform:`translate${r.axis}(${e}%)`}),$=Symbol("scrollbarContextKey"),Ge=x({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Ue="Thumb",Fe=O({__name:"thumb",props:Ge,setup(e){const t=e,r=Q($),s=V("scrollbar");r||fe(Ue,"can not inject scrollbar context");const o=m(),c=m(),i=m({}),d=m(!1);let n=!1,p=!1,b=he?document.onselectstart:null;const l=R(()=>We[t.vertical?"vertical":"horizontal"]),u=R(()=>Ke({size:t.size,move:t.move,bar:l.value})),h=R(()=>o.value[l.value.offset]**2/r.wrapElement[l.value.scrollSize]/t.ratio/c.value[l.value.offset]),y=v=>{var w;if(v.stopPropagation(),v.ctrlKey||[1,2].includes(v.button))return;(w=window.getSelection())==null||w.removeAllRanges(),_(v);const E=v.currentTarget;E&&(i.value[l.value.axis]=E[l.value.offset]-(v[l.value.client]-E.getBoundingClientRect()[l.value.direction]))},z=v=>{if(!c.value||!o.value||!r.wrapElement)return;const w=Math.abs(v.target.getBoundingClientRect()[l.value.direction]-v[l.value.client]),E=c.value[l.value.offset]/2,T=(w-E)*100*h.value/o.value[l.value.offset];r.wrapElement[l.value.scroll]=T*r.wrapElement[l.value.scrollSize]/100},_=v=>{v.stopImmediatePropagation(),n=!0,document.addEventListener("mousemove",S),document.addEventListener("mouseup",f),b=document.onselectstart,document.onselectstart=()=>!1},S=v=>{if(!o.value||!c.value||n===!1)return;const w=i.value[l.value.axis];if(!w)return;const E=(o.value.getBoundingClientRect()[l.value.direction]-v[l.value.client])*-1,T=c.value[l.value.offset]-w,ae=(E-T)*100*h.value/o.value[l.value.offset];r.wrapElement[l.value.scroll]=ae*r.wrapElement[l.value.scrollSize]/100},f=()=>{n=!1,i.value[l.value.axis]=0,document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",f),I(),p&&(d.value=!1)},a=()=>{p=!1,d.value=!!t.size},C=()=>{p=!0,d.value=n};ve(()=>{I(),document.removeEventListener("mouseup",f)});const I=()=>{document.onselectstart!==b&&(document.onselectstart=b)};return M(W(r,"scrollbarElement"),"mousemove",a),M(W(r,"scrollbarElement"),"mouseleave",C),(v,w)=>(L(),N(pe,{name:g(s).b("fade"),persisted:""},{default:Z(()=>[me(k("div",{ref_key:"instance",ref:o,class:H([g(s).e("bar"),g(s).is(g(l).key)]),onMousedown:z},[k("div",{ref_key:"thumb",ref:c,class:H(g(s).e("thumb")),style:B(g(u)),onMousedown:y},null,38)],34),[[de,v.always||d.value]])]),_:1},8,["name"]))}});var Y=D(Fe,[["__file","thumb.vue"]]);const Ye=x({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),qe=O({__name:"bar",props:Ye,setup(e,{expose:t}){const r=e,s=Q($),o=m(0),c=m(0),i=m(""),d=m(""),n=m(1),p=m(1);return t({handleScroll:u=>{if(u){const h=u.offsetHeight-P,y=u.offsetWidth-P;c.value=u.scrollTop*100/h*n.value,o.value=u.scrollLeft*100/y*p.value}},update:()=>{const u=s==null?void 0:s.wrapElement;if(!u)return;const h=u.offsetHeight-P,y=u.offsetWidth-P,z=h**2/u.scrollHeight,_=y**2/u.scrollWidth,S=Math.max(z,r.minSize),f=Math.max(_,r.minSize);n.value=z/(h-z)/(S/(h-S)),p.value=_/(y-_)/(f/(y-f)),d.value=S+P<h?`${S}px`:"",i.value=f+P<y?`${f}px`:""}}),(u,h)=>(L(),j(be,null,[K(Y,{move:o.value,ratio:p.value,size:i.value,always:u.always},null,8,["move","ratio","size","always"]),K(Y,{move:c.value,ratio:n.value,size:d.value,vertical:"",always:u.always},null,8,["move","ratio","size","always"])],64))}});var Xe=D(qe,[["__file","bar.vue"]]);const Je=x({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:ye([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,...ge(["ariaLabel","ariaOrientation"])}),Qe={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(A)},Ve="ElScrollbar",Ze=O({name:Ve}),je=O({...Ze,props:Je,emits:Qe,setup(e,{expose:t,emit:r}){const s=e,o=V("scrollbar");let c,i;const d=m(),n=m(),p=m(),b=m(),l=R(()=>{const a={};return s.height&&(a.height=G(s.height)),s.maxHeight&&(a.maxHeight=G(s.maxHeight)),[s.wrapStyle,a]}),u=R(()=>[s.wrapClass,o.e("wrap"),{[o.em("wrap","hidden-default")]:!s.native}]),h=R(()=>[o.e("view"),s.viewClass]),y=()=>{var a;n.value&&((a=b.value)==null||a.handleScroll(n.value),r("scroll",{scrollTop:n.value.scrollTop,scrollLeft:n.value.scrollLeft}))};function z(a,C){Ae(a)?n.value.scrollTo(a):A(a)&&A(C)&&n.value.scrollTo(a,C)}const _=a=>{A(a)&&(n.value.scrollTop=a)},S=a=>{A(a)&&(n.value.scrollLeft=a)},f=()=>{var a;(a=b.value)==null||a.update()};return U(()=>s.noresize,a=>{a?(c==null||c(),i==null||i()):({stop:c}=Se(p,f),i=M("resize",f))},{immediate:!0}),U(()=>[s.maxHeight,s.height],()=>{s.native||F(()=>{var a;f(),n.value&&((a=b.value)==null||a.handleScroll(n.value))})}),we($,ze({scrollbarElement:d,wrapElement:n})),_e(()=>{s.native||F(()=>{f()})}),Ee(()=>f()),t({wrapRef:n,update:f,scrollTo:z,setScrollTop:_,setScrollLeft:S,handleScroll:y}),(a,C)=>(L(),j("div",{ref_key:"scrollbarRef",ref:d,class:H(g(o).b())},[k("div",{ref_key:"wrapRef",ref:n,class:H(g(u)),style:B(g(l)),onScroll:y},[(L(),N(Re(a.tag),{id:a.id,ref_key:"resizeRef",ref:p,class:H(g(h)),style:B(a.viewStyle),role:a.role,"aria-label":a.ariaLabel,"aria-orientation":a.ariaOrientation},{default:Z(()=>[Pe(a.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),a.native?Ce("v-if",!0):(L(),N(Xe,{key:0,ref_key:"barRef",ref:b,always:a.always,"min-size":a.minSize},null,8,["always","min-size"]))],2))}});var et=D(je,[["__file","scrollbar.vue"]]);const lt=Le(et);export{lt as E,st as b};
