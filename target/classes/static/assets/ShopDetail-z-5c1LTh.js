import{_ as R,aN as B,aO as C,aP as b,aQ as _,aE as I,aF as f,aJ as T,E as t,o as e,c as i,a as o,R as p,t as u,w as r,b as l,h as q,f as k,av as h,aw as N,z as x,aR as y}from"./index-Dop1HJoy.js";import{E,a as v}from"./tab-pane-CWRaXBBn.js";import"./strings-PKkVAa1j.js";const H={name:"SrcShopDetail",data(){return{goods:[],shop:{},Postcard:B,Postcard2:C}},mounted(){this.getShopInfo(),this.checkShopSubscribedRequest(),this.getShopProductsRequest()},methods:{getShopDetail:b,getShopProducts:_,subscribeShop:I,cancelSubscribingShop:f,checkShopSubscribed:T,getShopInfo(){this.shop.shopId=this.$route.params.shopId,console.log(this.shop.shopId),this.shop={shopId:-1,shopName:"Bemani Sound Team",shopSubsciberCount:1e3,shopSaleCount:2e3},b({id:this.shop.shopId}).then(s=>{s.status?(this.shop=s.data,this.shop.shopId=this.$route.params.shopId):s.statusText?t.error(s.statusText):t.error("未知错误, Status: "+s.status)})},getShopProductsRequest(){this.shop.shopId=this.$route.params.shopId,console.log(this.shop.shopId),this.goods=[{productId:1,productName:"Test Goods",productImageBig:this.Postcard,salePrice:114514.19,isHot:!0},{productId:2,productName:"Test Goods 2",productImageBig:this.Postcard2,salePrice:11.19,isHot:!1},{productId:3,productName:"Test Goods 3",productImageBig:this.Postcard,salePrice:4514.19,isHot:!0},{productId:4,productName:"Test Goods 4",productImageBig:this.Postcard,salePrice:810.114,isHot:!1},{productId:5,productName:"Test Goods 4",productImageBig:this.Postcard,salePrice:810.114,isHot:!0}],_({id:this.shop.shopId}).then(s=>{s.status?this.goods=s.data:s.statusText?t.error(s.statusText):t.error("未知错误, Status: "+s.status)})},subscribeShopRequest(){I({userName:localStorage.getItem.loginUserName,sid:this.goods.shopId}).then(s=>{s.status=="200"?t.success("关注店铺成功"):s.statusText?t.error(s.statusText):t.error("未知错误, Status: "+s.status)}),this.checkShopSubscribedRequest()},cancelSubscribingShopRequest(){f({userName:localStorage.getItem.loginUserName,sid:this.goods.shopId}).then(s=>{s.status=="200"?t.success("取消关注店铺成功"):s.statusText?t.error(s.statusText):t.error("未知错误, Status: "+s.status)}),this.checkShopSubscribedRequest()},checkShopSubscribedRequest(){T({userName:localStorage.getItem.loginUserName,sid:this.goods.shopId}).then(s=>{s.status=="200"?this.shopSubscribed=s.data:s.statusText?t.error(s.statusText):t.error("未知错误, Status: "+s.status)})}}},w={class:"shop-detail"},G={class:"shop-info-box"},D={class:"img-item"},V={class:"goods-box w"},U={class:"goods-box w"};function F(s,z,J,L,a,n){const g=q,m=y,S=v,P=E;return e(),i("div",w,[o("div",G,[o("h1",null,p(a.shop.shopName),1),s.isSubscribed?(e(),u(g,{key:1,type:"primary",onClick:n.cancelSubscribingShopRequest},{default:r(()=>[k(" 取消关注店铺 ")]),_:1},8,["onClick"])):(e(),u(g,{key:0,type:"info",onClick:n.subscribeShopRequest},{default:r(()=>[k(" 关注店铺 ")]),_:1},8,["onClick"])),o("h3",null,"粉丝数 "+p(a.shop.shopSubsciberCount),1),o("h3",null,"总销量 "+p(a.shop.shopSaleCount),1)]),o("div",D,[l(P,{class:"w"},{default:r(()=>[l(S,{label:"热门商品"},{default:r(()=>[o("div",V,[(e(!0),i(h,null,N(a.goods,(c,d)=>(e(),i(h,{key:d},[c.isHot?(e(),u(m,{key:0,msg:c},null,8,["msg"])):x("",!0)],64))),128))])]),_:1}),l(S,{label:"其他商品"},{default:r(()=>[o("div",U,[(e(!0),i(h,null,N(a.goods,(c,d)=>(e(),i(h,{key:d},[c.isHot?x("",!0):(e(),u(m,{key:0,msg:c},null,8,["msg"]))],64))),128))])]),_:1})]),_:1})])])}const j=R(H,[["render",F],["__scopeId","data-v-eb33e175"]]);export{j as default};
