import{_ as w,o as p,c as m,b as e,w as s,a as l,av as f,aw as E,aR as C,g as U,h as P,f as B,R as g,aL as L,aM as k}from"./index-Dop1HJoy.js";import{E as F,a as N}from"./row-DS5aiPzr.js";import{a as R,E as S}from"./divider-DYrv0Imd.js";import{E as j}from"./progress-C1cgVMGo.js";import{E as G}from"./dialog-DltSdSvp.js";import"./_baseClone-DbsjTWAG.js";import"./_Uint8Array-Cg5NkbKV.js";import"./_initCloneObject-DycvtMbU.js";import"./isEqual-CvHxHP5Y.js";const H={data(){return{rate:0,content:"",dialogImageUrl:"",dialogVisible:!1,fileList:[],uploadedImagePaths:[],comments:[],selectedGoods:{productId:1,productName:"Test Goods",productImageBig:"https://sc01.alicdn.com/kf/HTB1Cic9HFXXXXbZXpXXq6xXFXXX3/200006212/HTB1Cic9HFXXXXbZXpXXq6xXFXXX3.jpg",salePrice:100.01}}},methods:{submitComment(){this.comments.push({id:this.comments.length+1,userName:"Kangu",rate:this.rate,content:this.content,images:["../../uploads/1692039378467-image1.jpg","../../uploads/1692039381874-image2.jpg"],productId:1}),this.rate=0,this.content="",this.fileList=[],this.uploadedImagePaths=[],this.$refs.upload.clearFiles()},handleUploadSuccess(t,n,d){t&&t.path&&this.uploadedImagePaths.push(t.path)},handlePreview(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleRemove(t,n){this.uploadedImagePaths=this.uploadedImagePaths.filter(d=>d!==t.response.path)}}},u=t=>(L("data-v-d6b44c2e"),t=t(),k(),t),T={class:"comment-page"},D=["src"],q={style:{display:"flex","justify-content":"center","align-items":"center","margin-top":"40px"}},Z={id:"container",class:"product-comment"},K={style:{display:"flex",gap:"20px","align-items":"flex-start"}},M=u(()=>l("i",{class:"el-icon-plus"},null,-1)),z={class:"submit-section",style:{"margin-bottom":"40px"}},A=u(()=>l("h2",null,"商品评价",-1)),J=u(()=>l("div",{id:"container",class:"comment-section"},null,-1));function O(t,n,d,Q,o,i){const X=G,v=C,_=R,x=U,b=j,y=P,h=S,c=F,r=N;return p(),m("div",T,[e(X,{visible:o.dialogVisible},{default:s(()=>[l("img",{width:"100%",src:o.dialogImageUrl,alt:""},null,8,D)]),_:1},8,["visible"]),l("div",q,[e(v,{msg:o.selectedGoods},null,8,["msg"])]),l("div",Z,[e(_,{modelValue:o.rate,"onUpdate:modelValue":n[0]||(n[0]=a=>o.rate=a),"allow-half":!0,"show-score":""},null,8,["modelValue"]),l("div",K,[e(x,{type:"textarea",modelValue:o.content,"onUpdate:modelValue":n[1]||(n[1]=a=>o.content=a),placeholder:"请输入您的评价",rows:"4"},null,8,["modelValue"]),e(b,{ref:"upload",action:"http://localhost:3000/upload","list-type":"picture-card","on-preview":i.handlePreview,"on-success":i.handleUploadSuccess,"on-remove":i.handleRemove,"file-list":o.fileList},{default:s(()=>[M]),_:1},8,["on-preview","on-success","on-remove","file-list"])]),l("div",z,[e(y,{type:"primary",onClick:i.submitComment},{default:s(()=>[B("提交评价")]),_:1},8,["onClick"])]),e(c,{justify:"center"},{default:s(()=>[A,e(h)]),_:1}),(p(!0),m(f,null,E(o.comments,(a,I)=>(p(),m(f,{key:I},[e(c,null,{default:s(()=>[e(r,{span:8,style:{"text-align":"left"},class:"ml-10"},{default:s(()=>[l("h2",null,g(a.userName),1)]),_:2},1024),e(r,{span:5,style:{"text-align":"left"},class:"mt-5"},{default:s(()=>[e(_,{modelValue:a.rate,"onUpdate:modelValue":V=>a.rate=V,"allow-half":"",disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(c,null,{default:s(()=>[e(r,{style:{"text-align":"left"}},{default:s(()=>[l("p",null,g(a.content),1)]),_:2},1024)]),_:2},1024),e(h)],64))),128))]),J])}const ne=w(H,[["render",O],["__scopeId","data-v-d6b44c2e"]]);export{ne as default};
