import{_ as b,b5 as p,b6 as f,b7 as g,o as E,c as F,b as s,w as a,h as x,f as n,a as V,g as w}from"./index-Dop1HJoy.js";import{E as T,a as C}from"./table-column-DWFHzxec.js";import"./scrollbar-RANCb-aM.js";import{E as y}from"./dialog-DltSdSvp.js";import{a as A,E as q}from"./form-item-N380rmsA.js";import"./_Uint8Array-Cg5NkbKV.js";import"./isEqual-CvHxHP5Y.js";import"./_initCloneObject-DycvtMbU.js";import"./castArray-huIM1Cdb.js";import"./_baseClone-DbsjTWAG.js";const D={data(){return{showDialog:!1,dataForm:{name:"",phone:"",address:""},dataRule:{name:[{required:!0,message:"收件人姓名不能为空",trigger:"blur"}],phone:[{required:!0,trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的11位手机号码",trigger:"blur"}],address:[{required:!0,message:"地址不能为空",trigger:"blur"}]},addresses:[]}},mounted(){this.getAllAddressesRequest()},methods:{getAddress:p,getAllAddressesRequest(){this.addresses=[{name:"Test Goods",phone:1111,address:114514.19},{name:"Test Goods",phone:2222,address:114514.19},{name:"Test Goods",phone:3333,address:114514.19}],p().then(o=>{console.log(o),o.status==="200"?this.addresses=o.data:o.statusText?ElMessage.error(o.statusText):ElMessage.error("未知错误, Status: "+o.status)})},delayAddress:f,delayAddressRequest(o){console.log(o),this.addresses.splice(o,1),f(this.addresses).then(e=>{console.log(e),e.status==="200"?ElMessage.success(e.statusText):e.statusText?ElMessage.error(e.statusText):ElMessage.error("未知错误, Status: "+e.status)})},handleClose(){this.showDialog=!1,this.$refs.dataForm.resetFields()},addAddress:g,dataFormSubmit(){this.$refs.dataForm.validate(o=>{o&&g(this.dataForm).then(e=>{console.log(e),e.status==="200"?(ElMessage.success(e.statusText),this.showDialog=!1):e.statusText?ElMessage.error(e.statusText):ElMessage.error("未知错误, Status: "+e.status)}).catch(e=>{e.response?(console.error("Error status",e.response.status),console.error("Error data",e.response.data)):e.request?console.error("No response received",e.request):console.error("Error",e.message)})})}}},M={slot:"footer",class:"dialog-footer"};function k(o,e,v,R,t,u){const d=x,m=w,i=A,_=q,h=y,r=C,c=T;return E(),F("div",null,[s(d,{type:"primary",onClick:e[0]||(e[0]=l=>t.showDialog=!0)},{default:a(()=>[n("添加新地址")]),_:1}),s(h,{modelValue:t.showDialog,"onUpdate:modelValue":e[6]||(e[6]=l=>t.showDialog=l),title:"添加地址",width:"30%",onClose:u.handleClose},{default:a(()=>[s(_,{model:t.dataForm,rules:t.dataRule,ref:"dataForm"},{default:a(()=>[s(i,{label:"姓名",prop:"name"},{default:a(()=>[s(m,{modelValue:t.dataForm.name,"onUpdate:modelValue":e[1]||(e[1]=l=>t.dataForm.name=l)},null,8,["modelValue"])]),_:1}),s(i,{label:"电话",prop:"phone"},{default:a(()=>[s(m,{modelValue:t.dataForm.phone,"onUpdate:modelValue":e[2]||(e[2]=l=>t.dataForm.phone=l)},null,8,["modelValue"])]),_:1}),s(i,{label:"地址",prop:"address"},{default:a(()=>[s(m,{type:"textarea",modelValue:t.dataForm.address,"onUpdate:modelValue":e[3]||(e[3]=l=>t.dataForm.address=l)},null,8,["modelValue"])]),_:1}),V("span",M,[s(d,{onClick:e[4]||(e[4]=l=>t.showDialog=!1)},{default:a(()=>[n("取 消")]),_:1}),s(d,{type:"primary",onClick:e[5]||(e[5]=l=>u.dataFormSubmit())},{default:a(()=>[n("确 定")]),_:1})])]),_:1},8,["model","rules"])]),_:1},8,["modelValue","onClose"]),s(c,{data:t.addresses,style:{width:"100%"}},{default:a(()=>[s(r,{type:"index",label:"编号",width:"180"}),s(r,{prop:"name",label:"姓名",width:"180"}),s(r,{prop:"phone",label:"电话",width:"180"}),s(r,{prop:"address",label:"地址"}),s(r,{label:"操作"},{default:a(l=>[s(d,{onClick:S=>u.delayAddressRequest(l.$index)},{default:a(()=>[n("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])}const L=b(D,[["render",k]]);export{L as default};
