import{X as H,U as J,a9 as Q,N as Z,bL as K,l as I,bR as _,bS as G,Y as x,D as O,bT as ee,p as k,o as $,c as N,a as R,r as y,q as v,s as e,R as oe,b as A,w as h,t as U,ay as se,y as te,z as q,A as V,B as W,bU as ae,bV as le,bW as ne,b1 as re,bp as ie,n as de,S as z,bX as ce,as as ue,P as fe,bY as me,bZ as ve,b_ as pe,b$ as ge,Q as be,T as he,c0 as ye,c1 as Ce,C as Ee}from"./index-Dop1HJoy.js";const we=(...l)=>t=>{l.forEach(n=>{H(n)?n(t):n.value=t})},$e=(l,t,n,C)=>{let d={offsetX:0,offsetY:0};const f=m=>{const E=m.clientX,w=m.clientY,{offsetX:p,offsetY:g}=d,c=l.value.getBoundingClientRect(),a=c.left,b=c.top,T=c.width,S=c.height,D=document.documentElement.clientWidth,F=document.documentElement.clientHeight,B=-a+p,Y=-b+g,X=D-a-T+p,P=F-b-S+g,u=o=>{let r=p+o.clientX-E,i=g+o.clientY-w;C!=null&&C.value||(r=Math.min(Math.max(r,B),X),i=Math.min(Math.max(i,Y),P)),d={offsetX:r,offsetY:i},l.value&&(l.value.style.transform=`translate(${K(r)}, ${K(i)})`)},M=()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",M)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",M)},L=()=>{t.value&&l.value&&t.value.addEventListener("mousedown",f)},s=()=>{t.value&&l.value&&t.value.removeEventListener("mousedown",f)};J(()=>{Q(()=>{n.value?L():s()})}),Z(()=>{s()})},j=Symbol("dialogInjectionKey"),Le=["aria-level"],ke=["aria-label"],Te=["id"],De=I({name:"ElDialogContent"}),Me=I({...De,props:_,emits:G,setup(l){const t=l,{t:n}=x(),{Close:C}=ae,{dialogRef:d,headerRef:f,bodyId:L,ns:s,style:m}=O(j),{focusTrapRef:E}=O(ee),w=k(()=>[s.b(),s.is("fullscreen",t.fullscreen),s.is("draggable",t.draggable),s.is("align-center",t.alignCenter),{[s.m("center")]:t.center}]),p=we(E,d),g=k(()=>t.draggable),c=k(()=>t.overflow);return $e(d,f,g,c),(a,b)=>($(),N("div",{ref:e(p),class:v(e(w)),style:V(e(m)),tabindex:"-1"},[R("header",{ref_key:"headerRef",ref:f,class:v([e(s).e("header"),{"show-close":a.showClose}])},[y(a.$slots,"header",{},()=>[R("span",{role:"heading","aria-level":a.ariaLevel,class:v(e(s).e("title"))},oe(a.title),11,Le)]),a.showClose?($(),N("button",{key:0,"aria-label":e(n)("el.dialog.close"),class:v(e(s).e("headerbtn")),type:"button",onClick:b[0]||(b[0]=T=>a.$emit("close"))},[A(e(te),{class:v(e(s).e("close"))},{default:h(()=>[($(),U(se(a.closeIcon||e(C))))]),_:1},8,["class"])],10,ke)):q("v-if",!0)],2),R("div",{id:e(L),class:v(e(s).e("body"))},[y(a.$slots,"default")],10,Te),a.$slots.footer?($(),N("footer",{key:0,class:v(e(s).e("footer"))},[y(a.$slots,"footer")],2)):q("v-if",!0)],6))}});var Re=W(Me,[["__file","dialog-content.vue"]]);const Ae=["aria-label","aria-labelledby","aria-describedby"],Ie=I({name:"ElDialog",inheritAttrs:!1}),Se=I({...Ie,props:le,emits:ne,setup(l,{expose:t}){const n=l,C=re();ie({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},k(()=>!!C.title));const d=de("dialog"),f=z(),L=z(),s=z(),{visible:m,titleId:E,bodyId:w,style:p,overlayDialogStyle:g,rendered:c,zIndex:a,afterEnter:b,afterLeave:T,beforeLeave:S,handleClose:D,onModalClick:F,onOpenAutoFocus:B,onCloseAutoFocus:Y,onCloseRequested:X,onFocusoutPrevented:P}=ce(n,f);ue(j,{dialogRef:f,headerRef:L,bodyId:w,ns:d,rendered:c,style:p});const u=Ce(F),M=k(()=>n.draggable&&!n.fullscreen);return t({visible:m,dialogContentRef:s}),(o,r)=>($(),U(ye,{to:o.appendTo,disabled:o.appendTo!=="body"?!1:!o.appendToBody},[A(he,{name:"dialog-fade",onAfterEnter:e(b),onAfterLeave:e(T),onBeforeLeave:e(S),persisted:""},{default:h(()=>[fe(A(e(me),{"custom-mask-event":"",mask:o.modal,"overlay-class":o.modalClass,"z-index":e(a)},{default:h(()=>[R("div",{role:"dialog","aria-modal":"true","aria-label":o.title||void 0,"aria-labelledby":o.title?void 0:e(E),"aria-describedby":e(w),class:v(`${e(d).namespace.value}-overlay-dialog`),style:V(e(g)),onClick:r[0]||(r[0]=(...i)=>e(u).onClick&&e(u).onClick(...i)),onMousedown:r[1]||(r[1]=(...i)=>e(u).onMousedown&&e(u).onMousedown(...i)),onMouseup:r[2]||(r[2]=(...i)=>e(u).onMouseup&&e(u).onMouseup(...i))},[A(e(ve),{loop:"",trapped:e(m),"focus-start-el":"container",onFocusAfterTrapped:e(B),onFocusAfterReleased:e(Y),onFocusoutPrevented:e(P),onReleaseRequested:e(X)},{default:h(()=>[e(c)?($(),U(Re,pe({key:0,ref_key:"dialogContentRef",ref:s},o.$attrs,{center:o.center,"align-center":o.alignCenter,"close-icon":o.closeIcon,draggable:e(M),overflow:o.overflow,fullscreen:o.fullscreen,"show-close":o.showClose,title:o.title,"aria-level":o.headerAriaLevel,onClose:e(D)}),ge({header:h(()=>[o.$slots.title?y(o.$slots,"title",{key:1}):y(o.$slots,"header",{key:0,close:e(D),titleId:e(E),titleClass:e(d).e("title")})]),default:h(()=>[y(o.$slots,"default")]),_:2},[o.$slots.footer?{name:"footer",fn:h(()=>[y(o.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):q("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Ae)]),_:3},8,["mask","overlay-class","z-index"]),[[be,e(m)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var Fe=W(Se,[["__file","dialog.vue"]]);const Ye=Ee(Fe);export{Ye as E};
